<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Component Library - Open Library</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/index.css">
  <!-- Prism syntax highlighting (JS only - CSS is in component) -->
  <script src="https://unpkg.com/prismjs/prism.js"></script>
  <script src="https://unpkg.com/prismjs/components/prism-markup.min.js"></script>
  <script type="module" src="/src/components/index.js"></script>
  <style>
    .demo-section {
      margin-bottom: var(--spacing-section);
      padding-bottom: var(--spacing-section);
      border-bottom: var(--border-divider);
      background: var(--color-bg-secondary);
    }

    .demo-section h2 {
      margin-top: 0;
      margin-bottom: var(--spacing-component);
      color: var(--color-text);
    }

    .demo-label {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      margin-bottom: var(--spacing-2);
      font-family: var(--font-family-mono);
    }

    .submit-result {
      margin-top: var(--spacing-component);
      padding: var(--spacing-element);
      background-color: var(--color-background-secondary);
      border-radius: var(--radius-card);
      display: none;
    }

    .submit-result.show {
      display: block;
    }

    .submit-result pre {
      margin: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .demo-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--spacing-component);
    }

    .component-nav {
      position: sticky;
      top: var(--spacing-4);
      margin-bottom: var(--spacing-section);
      padding: var(--spacing-4);
      background: var(--color-surface-variant);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-card);
    }

    .component-nav h3 {
      margin: 0 0 var(--spacing-2) 0;
      font-size: var(--font-size-base);
    }

    .component-nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: var(--spacing-4);
      flex-wrap: wrap;
    }

    .component-nav a {
      color: var(--color-text-link);
      text-decoration: none;
      /* padding: var(--spacing-1) var(--spacing-2); */
      font-weight: var(--font-weight-semibold);
      border-radius: var(--radius-sm);
    }

    .component-nav a:hover {
      background-color: var(--color-bg-hover);
    }
  </style>
</head>
<body>
  <ol-main-nav></ol-main-nav>

  <main>
    <ol-heading element="h1" size="display-1">Components</ol-heading>

    <!-- DEMO PANE COMPONENT -->
    <section id="demo-pane" style="margin-top: var(--spacing-12);">
      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Headings</ol-heading>
        <ol-demo-pane>
          <template>
            <ol-heading element="h1" size="display-1" icon="ðŸ›ï¸">Display 1</ol-heading>
            <ol-heading element="h2" size="display-2" icon="ðŸ“š">Display 2</ol-heading>
            <ol-heading element="h1" size="title-1" icon="ðŸ’¾">Title 1</ol-heading>
            <ol-heading element="h2" size="title-2">Title 2</ol-heading>
            <ol-heading element="h3" size="title-3">Title 3</ol-heading>
            <ol-heading element="h4" size="title-4">Title 4</ol-heading>
            <ol-heading element="h5" size="title-5">Title 5</ol-heading>
          </template>
        </ol-demo-pane>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Button</ol-heading>

        <ol-demo-pane>
          <template>
            <ol-button variant="primary">Primary Button</ol-button>
          </template>
        </ol-demo-pane>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Button Loading</ol-heading>

        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: var(--spacing-component);">
          <div>
            <ol-button id="loadingButton" variant="primary">Submit</ol-button>
          </div>
          <div style="border: var(--border-control); background: var(--color-bg-elevated); border-radius: var(--radius-card); overflow: hidden;">
            <pre style="margin: 0; padding: var(--spacing-element);"><code>&lt;ol-button id="loadingButton" variant="primary"&gt;Submit&lt;/ol-button&gt;

&lt;script&gt;
  const loadingButton = document.getElementById('loadingButton');
  loadingButton.addEventListener('click', () => {
    loadingButton.loading = true;

    setTimeout(() => {
      loadingButton.loading = false;
    }, 2000);
  });
&lt;/script&gt;</code></pre>
          </div>
        </div>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Button Group</ol-heading>

        <ol-demo-pane>
          <template>
            <ol-button-group>
              <ol-button variant="primary" slot="primary-action">Primary</ol-button>
              <ol-button variant="secondary" slot="secondary-actions">Secondary</ol-button>
              <ol-button variant="destructive" slot="secondary-actions">Destructive</ol-button>
            </ol-button-group>
          </template>
        </ol-demo-pane>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Card</ol-heading>

        <ol-demo-pane>
          <template>
            <ol-card>
              <ol-heading element="h3" size="title-3" icon="ðŸ“š">Books Collection</ol-heading>
              <p>Explore millions of books from around the world.</p>
            </ol-card>
          </template>
        </ol-demo-pane>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Form Field</ol-heading>
        <ol-demo-pane>
          <template>
            <ol-field label="Email Address" hint="We'll never share your email" required>
              <ol-input name="email" type="email" placeholder="you@example.com"></ol-input>
            </ol-field>
            <ol-field label="Email" error="Please enter a valid email address" required>
              <ol-input name="email-error" type="email" value="invalid-email"></ol-input>
            </ol-field>
          </template>
        </ol-demo-pane>
      </div>

      <div class="demo-section">
        <ol-heading element="h2" size="heading-2">Different Input Types</ol-heading>
        <ol-demo-pane>
          <template>
            <ol-field label="Text Input">
              <ol-input name="text" type="text" placeholder="Enter text"></ol-input>
            </ol-field>

            <ol-field label="Email Input">
              <ol-input name="email-type" type="email" placeholder="you@example.com"></ol-input>
            </ol-field>

            <ol-field label="Password Input">
              <ol-input name="password-type" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></ol-input>
            </ol-field>

            <ol-field label="URL Input">
              <ol-input name="url" type="url" placeholder="https://example.com"></ol-input>
            </ol-field>

            <ol-field label="Number Input">
              <ol-input name="number" type="number" placeholder="42"></ol-input>
            </ol-field>

            <ol-field label="Date Input">
              <ol-input name="date" type="date"></ol-input>
            </ol-field>
          </template>
        </ol-demo-pane>
      </div>


    </section>
  </main>

  <script>
    // Form with Validation demo
    const validatedForm = document.getElementById('validatedForm');
    const fullnameField = document.getElementById('fullname-field');
    const fullnameInput = document.getElementById('fullname-input');
    const emailField = document.getElementById('email-field');
    const emailInput = document.getElementById('email-input');
    const ageField = document.getElementById('age-field');
    const ageInput = document.getElementById('age-input');
    const websiteField = document.getElementById('website-field');
    const websiteInput = document.getElementById('website-input');
    const submitResult = document.getElementById('submitResult');
    const formData = document.getElementById('formData');

    if (validatedForm) {
      // Real-time validation for full name
      fullnameInput.addEventListener('input', () => {
        const value = fullnameInput.value.trim();
        if (value && value.length < 3) {
          fullnameField.error = 'Name must be at least 3 characters';
        } else if (value && !value.includes(' ')) {
          fullnameField.error = 'Please enter your full name (first and last)';
        } else {
          fullnameField.error = '';
        }
      });

      // Real-time validation for email
      emailInput.addEventListener('input', () => {
        const value = emailInput.value;
        if (value && !value.includes('@')) {
          emailField.error = 'Please include an @ in the email address';
        } else if (value && value.includes('@') && !value.includes('.')) {
          emailField.error = 'Please enter a complete email address';
        } else {
          emailField.error = '';
        }
      });

      // Real-time validation for age
      ageInput.addEventListener('input', () => {
        const value = parseInt(ageInput.value);
        if (ageInput.value && value < 18) {
          ageField.error = 'You must be 18 or older';
        } else if (value && value > 150) {
          ageField.error = 'Please enter a valid age';
        } else {
          ageField.error = '';
        }
      });

      // Real-time validation for website (optional field)
      websiteInput.addEventListener('input', () => {
        const value = websiteInput.value;
        if (value && !value.startsWith('http://') && !value.startsWith('https://')) {
          websiteField.error = 'URL must start with http:// or https://';
        } else {
          websiteField.error = '';
        }
      });

      // Form submission handler
      validatedForm.addEventListener('submit', (e) => {
        e.preventDefault();

        // Validate all fields on submit
        let isValid = true;

        // Validate full name
        if (!fullnameInput.value.trim()) {
          fullnameField.error = 'Full name is required';
          isValid = false;
        } else if (fullnameInput.value.trim().length < 3) {
          fullnameField.error = 'Name must be at least 3 characters';
          isValid = false;
        } else if (!fullnameInput.value.includes(' ')) {
          fullnameField.error = 'Please enter your full name (first and last)';
          isValid = false;
        } else {
          fullnameField.error = '';
        }

        // Validate email
        if (!emailInput.value) {
          emailField.error = 'Email is required';
          isValid = false;
        } else if (!emailInput.value.includes('@')) {
          emailField.error = 'Please enter a valid email address';
          isValid = false;
        } else {
          emailField.error = '';
        }

        // Validate age
        const age = parseInt(ageInput.value);
        if (!ageInput.value) {
          ageField.error = 'Age is required';
          isValid = false;
        } else if (age < 18) {
          ageField.error = 'You must be 18 or older';
          isValid = false;
        } else if (age > 150) {
          ageField.error = 'Please enter a valid age';
          isValid = false;
        } else {
          ageField.error = '';
        }

        // Validate website (optional, but if filled must be valid)
        if (websiteInput.value && !websiteInput.value.startsWith('http://') && !websiteInput.value.startsWith('https://')) {
          websiteField.error = 'URL must start with http:// or https://';
          isValid = false;
        } else {
          websiteField.error = '';
        }

        // If valid, show form data
        if (isValid) {
          const data = new FormData(validatedForm);
          const obj = {};
          data.forEach((value, key) => {
            obj[key] = value;
          });

          formData.textContent = JSON.stringify(obj, null, 2);
          submitResult.classList.add('show');
        } else {
          submitResult.classList.remove('show');
        }
      });
    }

    // Button Loading demo
    const loadingButton = document.getElementById('loadingButton');
    if (loadingButton) {
      loadingButton.addEventListener('click', () => {
        loadingButton.loading = true;

        setTimeout(() => {
          loadingButton.loading = false;
        }, 2000);
      });
    }
  </script>
</body>
</html>

